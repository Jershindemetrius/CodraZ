<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>CodraZ ‚Äî Student Scheduler & Study Companion</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app">

        <aside class="sidebar" id="sidebar">
            <div class="brand">
                <div class="brand-logo">üéì</div>
                <div class="brand-title">CodraZ AI Assistant</div>
            </div>
            <nav class="nav" id="mainNav">
                <button class="nav-item" data-nav="dashboard">üè† <span>Dashboard</span></button>
                <button class="nav-item" data-nav="assistant">ü§ñ <span>AI Assistant</span></button>
                <button class="nav-item" data-nav="schedule">üóì <span>Schedule</span></button>
                <button class="nav-item" data-nav="wellness">üíö <span>Wellness</span></button>
                <button class="nav-item" data-nav="settings">‚öôÔ∏è <span>Settings</span></button>
            </nav>
            <div class="sidebar-footer">
                <span id="copyrightYear">¬© 2025</span> CodraZ AI Assistant v1.0
                <button id="toggleThemeBtn" class="theme-toggle" title="Toggle Theme">‚òÄÔ∏è</button>
            </div>
        </aside>


        <main class="content">
            <div class="loading-overlay" id="loadingOverlay" aria-hidden="true">
                <div class="spinner"></div>
            </div>
            <header class="title-block">
                <h1 id="mainTitle">Dashboard</h1>
                <div class="user-info">
                    <span id="welcomeMessage">Welcome, User!</span>
                    <img src="avatar.png" alt="User Avatar" class="user-avatar">                 </div>
            </header>

  
            <section id="dashboardSection" data-view="dashboard">
                <div class="overview-grid">
                    <div class="content-block focus-block">
                       <h3>üéØ Today's Focus</h3>
                       <h4 id="focusSubject">Loading...</h4>
                       <p id="focusDescription">...</p>
                       <div class="progress-wrap">
                         <div class="progress-bar"><div id="focusProgressBar" style="width: 0%;"></div></div>
                         <span id="focusProgressPct">0%</span>
                       </div>
                        <div id="focusTasks" class="focus-tasks-list"></div>
                        <button id="startFocusSessionBtn" class="btn">Start Focus Session (Quiz)</button>
                    </div>
                    <div class="content-block weekly-progress">
                       <h3>üìä Weekly Progress</h3>
                       <div id="daysRow" class="days-row"></div>
                       <p>Focus Score: <strong id="focusScore">N/A</strong></p>
                       <p>Consistency: <strong id="consistencyStreak">0 days</strong></p>
                    </div>
                    <div class="content-block quick-add">
                       <h3>‚ö° Quick Add Task</h3>
                       <form id="quickTaskForm">
                           <input type="text" id="quickTaskTitle" placeholder="Task Title (e.g., Read Ch. 5)" required>
                           <select id="quickTaskSubject"><option value="General">General</option></select>
                           <button type="submit" class="btn">Add</button>
                       </form>
                    </div>
                    <div class="content-block activity-feed">
                       <h3>üîî Recent Activity</h3>
                       <ul id="activityList"><li>Loading activities...</li></ul>
                    </div>
                  </div>

                <div class="content-block task-management-wrap">
                    <h3>üìã Task Management</h3>
                    <form id="taskForm">
                        <div class="form-grid">
                            <div><label for="taskTitle">Task Title</label><input type="text" id="taskTitle" placeholder="e.g., Practice Hooks" required></div>
                            <div><label for="taskSubject">Subject</label><input type="text" id="taskSubject" list="subjectSuggestions" placeholder="e.g., Web Dev"><datalist id="subjectSuggestions"></datalist></div>
                            <div><label for="taskDate">Due Date</label><input type="date" id="taskDate" required></div>
                            <div><label for="taskPriority">Priority</label><select id="taskPriority"><option value="medium">Medium</option><option value="high">High</option><option value="low">Low</option></select></div>
                            <div class="form-full-width"><label for="taskNotes">Notes (Optional)</label><textarea id="taskNotes" rows="2" placeholder="Add details..."></textarea></div>
                        </div>
                        <input type="hidden" id="editTaskId">
                        <div class="form-actions">
                            <button type="submit" class="btn" id="addTaskBtn">
                                <span>Add Task</span>
                                <span class="loading-indicator" style="display: none;"></span>
                            </button>
                            <button class="btn outline" id="clearFormBtn" type="button">Clear</button>
                        </div>
                    </form>

                    <div class="tasks-list-wrap">
                        <div class="tasks-header">
                            <h4>Your Tasks</h4>
                            <div class="task-filters">
                                <label for="showCompletedToggle">Show Completed:</label>
                                <input type="checkbox" id="showCompletedToggle" class="toggle-switch small-toggle">
                                <label for="showCompletedToggle" class="toggle-label"></label>
                            </div>
                            <div class="task-actions-header">
                                <button class="btn small outline" id="sortTasksByDateBtn" title="Sort by Due Date">Sort: Date</button>
                                <button class="btn small outline" id="sortTasksByPriorityBtn" title="Sort by Priority">Sort: Priority</button>
                                <button class="btn small outline" id="markAllDoneBtn" title="Mark Today's Practiced Tasks Done">Mark Practiced Done</button>
                            </div>
                        </div>
                        <div id="tasksList" class="tasks-list"></div>
                    </div>
                </div>
            </section>

     
            <section id="assistantSection" data-view="assistant" hidden>
                <div class="content-block ai-assistant-wrap">
                   <div class="ai-header">
                       <h2>ü§ñ AI Assistant</h2>
                       <button id="clearChatBtn" class="btn small outline danger" title="Clear Chat History">Clear Chat</button>
                   </div>
                   <div class="chat-container">
                     <div class="chat-messages" id="chatMessages"></div>
                     <div id="typingIndicator" class="chat-message from-bot typing" style="display: none;">
                         <p><i>Thinking...</i></p> {/* Changed text */}
                     </div>
                     <form class="chat-input-form" id="chatForm">
                       <input type="text" id="chatInput" placeholder="Ask about subjects, tasks, or study tips..." autocomplete="off">
                       <button type="submit" class="btn" id="chatSendBtn">
                           <span>Send</span>
                           <span class="loading-indicator" style="display: none;"></span>
                       </button>
                     </form>
                   </div>
                 </div>
            </section>

            <section id="scheduleSection" data-view="schedule" hidden>
                <div class="content-block schedule-wrap">
                    <h2>üóì Your Schedule</h2>
                    <div id="calendarView">
                         <p><i>Full calendar view coming soon...</i></p>
                         <p>Upcoming Tasks:</p>
                         <div id="scheduleTaskList"></div>
                    </div>
                </div>
            </section>

       
            <section id="wellnessSection" data-view="wellness" hidden>
                <div class="content-block wellness-wrap">
                    <h2>üíö Wellness Corner</h2>
                    <p>Take a moment for yourself.</p>
                    <div class="wellness-game-container">
                        <div id="wellnessGame">
                            <p id="breathingInstruction">Follow the circle...</p>
                            <div class="breathing-circle" id="breathingCircle">Breathe In</div>
                        </div>
                         <button id="changeWellnessGameBtn" class="btn small outline">Try Another Exercise</button>
                    </div>
                    <div id="wellnessTips">
                        <h4>Quick Tip:</h4>
                        <p id="wellnessTipText">Remember to stay hydrated! Drink water regularly.</p>
                    </div>
                 </div>
            </section>

          
            <section id="settingsSection" data-view="settings" hidden>
                <div class="content-block settings-wrap">
                    <h2>‚öôÔ∏è Settings</h2>
                    <div class="setting-item">
                      <label for="darkModeToggle">Dark Mode:</label>
                      <input type="checkbox" id="darkModeToggle" class="toggle-switch"><label for="darkModeToggle" class="toggle-label"></label>
                    </div>
                    <div class="setting-item">
                        <label for="notificationToggle">Enable Reminders:</label>
                        <input type="checkbox" id="notificationToggle" class="toggle-switch"><label for="notificationToggle" class="toggle-label"></label>
                    </div>
                    <div class="setting-item">
                         <p>App Data Usage: <span id="storageUsage">Calculating...</span></p>
                     </div>
                     <div class="setting-item">
                       <button id="clearDataBtn" class="btn danger outline">Clear All Local Data</button>
                    </div>
                 </div>
            </section>
        </main>
    </div>


    <div id="quizModal" class="modal-overlay" aria-hidden="true">
        <div class="modal-content">
            <button class="close-modal-btn" id="closeQuizModal" title="Close Quiz">&times;</button>
            <div id="quizContainer" class="quiz-container">
              <h3 id="quizQuestion">Question</h3>
              <div id="quizOptions" class="quiz-options"></div>
              <div class="quiz-footer">
                <div class="quiz-progress" id="quizProgressText">0 / 50</div>
                <button id="nextQuizQuestion" class="btn">Next</button>
              </div>
            </div>
            <div id="quizResults" class="quiz-results" style="display:none;">
              <h3>Quiz Complete!</h3>
              <p>You scored <strong id="quizScore">0</strong> out of <span id="quizTotalQuestions">50</span></p>
              <div class="results-actions">
                <button id="restartQuiz" class="btn">Practice Again</button>
                <button id="closeResultsBtn" class="btn outline">Close</button>
              </div>
            </div>
          </div>
    </div>

 
    <div id="confirmModal" class="modal-overlay" aria-hidden="true">
        <div class="modal-content small-modal">
             <h3 id="confirmTitle">Confirm Action</h3>
             <p id="confirmMessage">Are you sure?</p>
             <div class="confirm-actions">
                 <button id="confirmYesBtn" class="btn danger">Yes, Proceed</button>
                 <button id="confirmNoBtn" class="btn outline">Cancel</button>
             </div>
        </div>
    </div>


    <div id="toastContainer"></div>

    <script src="script.js"></script>
</body>
</html>
